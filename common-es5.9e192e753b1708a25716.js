!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function c(e){r(a,i,o,c,s,"next",e)}function s(e){r(a,i,o,c,s,"throw",e)}c(void 0)})}}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0/6H":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("A36C"),i=n("iWo5"),o=n("qULd"),a=function(e,t){var n,a,c=function(e,r,i){if("undefined"!=typeof document){var o=document.elementFromPoint(e,r);o&&t(o)?o!==n&&(u(),s(o,i)):u()}},s=function(e,t){n=e,a||(a=n);var i=n;Object(r.f)(function(){return i.classList.add("ion-activated")}),t()},u=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n){var t=n;Object(r.f)(function(){return t.classList.remove("ion-activated")}),e&&a!==n&&n.click(),n=void 0}};return Object(i.createGesture)({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:function(e){return c(e.currentX,e.currentY,o.a)},onMove:function(e){return c(e.currentX,e.currentY,o.b)},onEnd:function(){u(!0),Object(o.e)(),a=void 0}})}},"74mu":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return s});var r=function(e,t){return null!==t.closest(e)},o=function(e,t){return"string"==typeof e&&e.length>0?Object.assign((i=!0,(r="ion-color-"+e)in(n={"ion-color":!0})?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n),t):t;var n,r,i},a=function(e){var t={};return function(e){return void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter(function(e){return null!=e}).map(function(e){return e.trim()}).filter(function(e){return""!==e}):[]}(e).forEach(function(e){return t[e]=!0}),t},c=/^[a-z][a-z0-9+\-.]*:/,s=function(){var e=i(regeneratorRuntime.mark(function e(t,n,r,i){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t||"#"===t[0]||c.test(t)){e.next=4;break}if(!(o=document.querySelector("ion-router"))){e.next=4;break}return e.abrupt("return",(null!=n&&n.preventDefault(),o.push(t,r,i)));case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}},e)}));return function(t,n,r,i){return e.apply(this,arguments)}}()},"7Mkl":function(t,r,i){"use strict";i.d(r,"a",function(){return h});var o=i("mrSG"),a=i("fXoL"),c=i("TEn/"),s=i("Ol7V"),u=i("ofXK"),l=i("3Pt+");function m(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"ion-row"),a["\u0275\u0275elementStart"](1,"ion-col"),a["\u0275\u0275elementStart"](2,"h3",7),a["\u0275\u0275text"](3,"del giorno"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function d(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ion-row"),a["\u0275\u0275elementStart"](1,"ion-col"),a["\u0275\u0275elementStart"](2,"ion-card"),a["\u0275\u0275elementStart"](3,"h3",7),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](4),a["\u0275\u0275textInterpolate"](n.dateString[0])}}function f(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"ion-row"),a["\u0275\u0275elementStart"](1,"ion-col"),a["\u0275\u0275elementStart"](2,"h3",7),a["\u0275\u0275text"](3,"dei giorni"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function p(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ion-col",14),a["\u0275\u0275elementStart"](1,"ion-card"),a["\u0275\u0275elementStart"](2,"h3",15),a["\u0275\u0275text"](3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n)}}function g(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ion-row"),a["\u0275\u0275template"](1,p,4,1,"ion-col",13),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.dateString)}}var h=function(){var t=function(){function t(n,r,i){e(this,t),this.modalController=n,this.homeService=r,this.toastController=i,this.dateString=[]}return n(t,[{key:"ngOnInit",value:function(){this.date.sort(function(e,t){return new Date(e).getTime()-new Date(t).getTime()});for(var e=0;e<this.date.length;e++)this.dateString.push(this.date[e])}},{key:"addBooking",value:function(){for(var e=this,t=[],n=[],r=0;r<this.date.length;r++)t.push(this.makeGmtDate(new Date(this.date[r]),this.selectedHour.startTime)),n.push(this.makeGmtDate(new Date(this.date[r]),this.selectedHour.endTime));this.homeService.addBooking({roomId:this.selectedRoom.roomId,patientName:this.patientName,physioName:this.physioName,startDatesArray:t,endDatesArray:n}).then(function(){e.presentToast("Appuntamento aggiunto"),e.onModalDismiss()}).catch(function(){e.presentToast("Errore aggiunta appuntamento")})}},{key:"makeGmtDate",value:function(e,t){var n=new Date(new Date(e).toLocaleDateString("en-US")+" "+t);return n.setTime(n.getTime()+36e5),n}},{key:"onModalDismiss",value:function(){this.modalController.dismiss()}},{key:"presentToast",value:function(e){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastController.create({message:e,duration:2e3});case 2:t.sent.present();case 3:case"end":return t.stop()}},t,this)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](c.ModalController),a["\u0275\u0275directiveInject"](s.a),a["\u0275\u0275directiveInject"](c.ToastController))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["app-add-booking"]],inputs:{selectedRoom:"selectedRoom",selectedHour:"selectedHour",date:"date",physioName:"physioName"},decls:47,vars:8,consts:[[2,"height","100%"],[1,"ion-text-center",2,"align-items","center","height","100%"],[2,"height","100%","padding","0%"],[1,"left-col"],[2,"padding","0%"],[2,"padding","0%","text-align","end"],["size","small","fill","clear",2,"margin","0%",3,"click"],[1,"title"],[4,"ngIf"],["name","close-circle-outline"],["position","floating"],[3,"ngModel","ngModelChange"],[3,"click"],["size","5",4,"ngFor","ngForOf"],["size","5"],[1,"title-card"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"ion-content"),a["\u0275\u0275elementStart"](1,"ion-grid",0),a["\u0275\u0275elementStart"](2,"ion-row",1),a["\u0275\u0275elementStart"](3,"ion-col"),a["\u0275\u0275elementStart"](4,"ion-card"),a["\u0275\u0275elementStart"](5,"ion-grid",2),a["\u0275\u0275elementStart"](6,"ion-row"),a["\u0275\u0275elementStart"](7,"ion-col",3),a["\u0275\u0275elementStart"](8,"ion-grid",4),a["\u0275\u0275elementStart"](9,"ion-row"),a["\u0275\u0275elementStart"](10,"ion-col",5),a["\u0275\u0275elementStart"](11,"ion-button",6),a["\u0275\u0275listener"]("click",function(){return t.onModalDismiss()}),a["\u0275\u0275element"](12,"ion-icon"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"ion-row"),a["\u0275\u0275elementStart"](14,"ion-col"),a["\u0275\u0275elementStart"](15,"h3",7),a["\u0275\u0275text"](16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"ion-row"),a["\u0275\u0275elementStart"](18,"ion-col"),a["\u0275\u0275elementStart"](19,"h3",7),a["\u0275\u0275text"](20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](21,m,4,0,"ion-row",8),a["\u0275\u0275template"](22,d,5,1,"ion-row",8),a["\u0275\u0275template"](23,f,4,0,"ion-row",8),a["\u0275\u0275template"](24,g,2,1,"ion-row",8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"ion-col",4),a["\u0275\u0275elementStart"](26,"ion-grid",4),a["\u0275\u0275elementStart"](27,"ion-row"),a["\u0275\u0275elementStart"](28,"ion-col",5),a["\u0275\u0275elementStart"](29,"ion-button",6),a["\u0275\u0275listener"]("click",function(){return t.onModalDismiss()}),a["\u0275\u0275element"](30,"ion-icon",9),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](31,"ion-row"),a["\u0275\u0275elementStart"](32,"ion-col"),a["\u0275\u0275elementStart"](33,"ion-item"),a["\u0275\u0275elementStart"](34,"ion-label",10),a["\u0275\u0275text"](35,"Nome del Fisioterapista"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"ion-input",11),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.physioName=e}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"ion-row"),a["\u0275\u0275elementStart"](38,"ion-col"),a["\u0275\u0275elementStart"](39,"ion-item"),a["\u0275\u0275elementStart"](40,"ion-label",10),a["\u0275\u0275text"](41,"Nome del Paziente"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"ion-input",11),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.patientName=e}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](43,"ion-row"),a["\u0275\u0275elementStart"](44,"ion-col"),a["\u0275\u0275elementStart"](45,"ion-button",12),a["\u0275\u0275listener"]("click",function(){return t.addBooking()}),a["\u0275\u0275text"](46,"Prenota!"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](16),a["\u0275\u0275textInterpolate1"]("Prenotazione ",t.selectedRoom.roomName,""),a["\u0275\u0275advance"](4),a["\u0275\u0275textInterpolate1"]("per le ",t.selectedHour.name,""),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===t.dateString.length),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===t.dateString.length),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.dateString.length>1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.dateString.length>1),a["\u0275\u0275advance"](12),a["\u0275\u0275property"]("ngModel",t.physioName),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngModel",t.patientName))},directives:[c.IonContent,c.IonGrid,c.IonRow,c.IonCol,c.IonCard,c.IonButton,c.IonIcon,u.NgIf,c.IonItem,c.IonLabel,c.IonInput,c.TextValueAccessor,l.NgControlStatus,l.NgModel,u.NgForOf],styles:["ion-content[_ngcontent-%COMP%]{--background:transparent}.title[_ngcontent-%COMP%], .title-card[_ngcontent-%COMP%]{font-size:15px;margin:0;color:#000}.title-card[_ngcontent-%COMP%]{padding-left:2%;padding-right:2%}.left-col[_ngcontent-%COMP%]{background:linear-gradient(1turn,#5490d9 27%,#4ea7df 95%);padding:0}"]}),t}()},Ol7V:function(t,r,i){"use strict";i.d(r,"a",function(){return m});var o,a,c=i("mrSG"),s=i("fXoL"),u=i("tk/3"),l=((a=function(){function t(){e(this,t),this.apiUrl="https://gestionepazienti.herokuapp.com/"}return n(t,[{key:"getApiUrl",value:function(){return this.apiUrl}},{key:"getApiRoute",value:function(e){return this.apiUrl+e}}]),t}()).\u0275fac=function(e){return new(e||a)},a.\u0275prov=s["\u0275\u0275defineInjectable"]({token:a,factory:a.\u0275fac,providedIn:"root"}),a),m=((o=function(){function t(n,r){e(this,t),this.http=n,this.costantsService=r,this.bookingHours=[{name:"8.00 - 9.00",startTime:"08:00:00",endTime:"09:00:00",isQuarter:!1},{name:"8.00 - 8.45",startTime:"08:00:00",endTime:"08:45:00",isQuarter:!0},{name:"8.15 - 9.00",startTime:"08:15:00",endTime:"09:00:00",isQuarter:!0},{name:"8.30 - 9.15",startTime:"08:30:00",endTime:"09:15:00",isQuarter:!0},{name:"8.30 - 9.30",startTime:"08:30:00",endTime:"09:30:00",isQuarter:!1},{name:"8.45 - 9.30",startTime:"08:45:00",endTime:"09:30:00",isQuarter:!0},{name:"9.00 - 10.00",startTime:"09:00:00",endTime:"10:00:00",isQuarter:!1},{name:"9.00 - 9.45",startTime:"09:00:00",endTime:"09:45:00",isQuarter:!0},{name:"9.15 - 10.00",startTime:"09:15:00",endTime:"10:00:00",isQuarter:!0},{name:"9.30 - 10.15",startTime:"09:30:00",endTime:"10:15:00",isQuarter:!0},{name:"9.30 - 10.30",startTime:"09:30:00",endTime:"10:30:00",isQuarter:!1},{name:"9.45 - 10.30",startTime:"09:45:00",endTime:"10:30:00",isQuarter:!0},{name:"10.00 - 11.00",startTime:"10:00:00",endTime:"11:00:00",isQuarter:!1},{name:"10.00 - 10.45",startTime:"10:00:00",endTime:"10:45:00",isQuarter:!0},{name:"10.15 - 11.00",startTime:"10:15:00",endTime:"11:00:00",isQuarter:!0},{name:"10.30 - 11.15",startTime:"10:30:00",endTime:"11:15:00",isQuarter:!0},{name:"10.30 - 11.30",startTime:"10:30:00",endTime:"11:30:00",isQuarter:!1},{name:"10.45 - 11.30",startTime:"10:45:00",endTime:"11:30:00",isQuarter:!0},{name:"11.00 - 12.00",startTime:"11:00:00",endTime:"12:00:00",isQuarter:!1},{name:"11.00 - 11.45",startTime:"11:00:00",endTime:"11:45:00",isQuarter:!0},{name:"11.15 - 12.00",startTime:"11:15:00",endTime:"12:00:00",isQuarter:!0},{name:"11.30 - 12.15",startTime:"11:30:00",endTime:"12:15:00",isQuarter:!0},{name:"11.30 - 12.30",startTime:"11:30:00",endTime:"12:30:00",isQuarter:!1},{name:"11.45 - 12.30",startTime:"11:45:00",endTime:"12:30:00",isQuarter:!0}],this.rooms=[{roomId:1,roomName:"Posturale"},{roomId:2,roomName:"Lettino Chiuso"},{roomId:3,roomName:"Lettino Aperto"},{roomId:4,roomName:"Palestra"}]}return n(t,[{key:"getHourRange",value:function(){return this.bookingHours}},{key:"getRooms",value:function(){return this.rooms}},{key:"getPhysio",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(console.log("Carico Fisio"),new Promise(function(e,n){return t.http.get(t.costantsService.getApiRoute("getPhysio")).toPromise().then(function(t){for(var n=t,r=0;r<n.length;r++)n[r].image=n[r].image?"data:image/jpeg;base64,"+n[r].image:"./assets/avatar.svg";console.log(n),e(t)},function(){n()})})));case 1:case"end":return e.stop()}},e)}))}},{key:"addBooking",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(console.log(e),this.http.post(this.costantsService.getApiRoute("addBooking"),e).toPromise()));case 1:case"end":return t.stop()}},t,this)}))}},{key:"getAppointments",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(console.log("Carico appuntamenti"),new Promise(function(e,n){return t.http.get(t.costantsService.getApiRoute("getAppointments")).toPromise().then(function(t){e(t)},function(){n()})})));case 1:case"end":return e.stop()}},e)}))}}]),t}()).\u0275fac=function(e){return new(e||o)(s["\u0275\u0275inject"](u.a),s["\u0275\u0275inject"](l))},o.\u0275prov=s["\u0275\u0275defineInjectable"]({token:o,factory:o.\u0275fac,providedIn:"root"}),o)},ZaV5:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r=function(){var e=i(regeneratorRuntime.mark(function e(t,n,r,i,o){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",t.attachViewToDom(n,r,o,i));case 2:if("string"==typeof r||r instanceof HTMLElement){e.next=4;break}throw new Error("framework delegate is missing");case 4:if(a="string"==typeof r?n.ownerDocument&&n.ownerDocument.createElement(r):r,i&&i.forEach(function(e){return a.classList.add(e)}),o&&Object.assign(a,o),n.appendChild(a),e.t0=a.componentOnReady,!e.t0){e.next=12;break}return e.next=12,a.componentOnReady();case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}},e)}));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),o=function(e,t){if(t){if(e)return e.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},h3R7:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={bubbles:{dur:1e3,circles:9,fn:function(e,t,n){var r=e*t/n-e+"ms",i=2*Math.PI*t/n;return{r:5,style:{top:9*Math.sin(i)+"px",left:9*Math.cos(i)+"px","animation-delay":r}}}},circles:{dur:1e3,circles:8,fn:function(e,t,n){var r=t/n,i=e*r-e+"ms",o=2*Math.PI*r;return{r:5,style:{top:9*Math.sin(o)+"px",left:9*Math.cos(o)+"px","animation-delay":i}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:function(){return{r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}}}},crescent:{dur:750,circles:1,fn:function(){return{r:26,style:{}}}},dots:{dur:750,circles:3,fn:function(e,t){return{r:6,style:{left:9-9*t+"px","animation-delay":-110*t+"ms"}}}},lines:{dur:1e3,lines:12,fn:function(e,t,n){return{y1:17,y2:29,style:{transform:"rotate(".concat(30*t+(t<6?180:-180),"deg)"),"animation-delay":e*t/n-e+"ms"}}}},"lines-small":{dur:1e3,lines:12,fn:function(e,t,n){return{y1:12,y2:20,style:{transform:"rotate(".concat(30*t+(t<6?180:-180),"deg)"),"animation-delay":e*t/n-e+"ms"}}}}}},qULd:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return c});var r={getEngine:function(){var e=window;return e.TapticEngine||e.Capacitor&&e.Capacitor.isPluginAvailable("Haptics")&&e.Capacitor.Plugins.Haptics},available:function(){return!!this.getEngine()},isCordova:function(){return!!window.TapticEngine},isCapacitor:function(){return!!window.Capacitor},impact:function(e){var t=this.getEngine();if(t){var n=this.isCapacitor()?e.style.toUpperCase():e.style;t.impact({style:n})}},notification:function(e){var t=this.getEngine();if(t){var n=this.isCapacitor()?e.style.toUpperCase():e.style;t.notification({style:n})}},selection:function(){this.impact({style:"light"})},selectionStart:function(){var e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged:function(){var e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd:function(){var e=this.getEngine();e&&(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},i=function(){r.selection()},o=function(){r.selectionStart()},a=function(){r.selectionChanged()},c=function(){r.selectionEnd()},s=function(e){r.impact(e)}}}])}();