(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0/6H":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("A36C"),o=n("iWo5"),r=n("qULd");const a=(e,t)=>{let n,a;const s=(e,i,o)=>{if("undefined"==typeof document)return;const r=document.elementFromPoint(e,i);r&&t(r)?r!==n&&(m(),l(r,o)):m()},l=(e,t)=>{n=e,a||(a=n);const o=n;Object(i.f)(()=>o.classList.add("ion-activated")),t()},m=(e=!1)=>{if(!n)return;const t=n;Object(i.f)(()=>t.classList.remove("ion-activated")),e&&a!==n&&n.click(),n=void 0};return Object(o.createGesture)({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:e=>s(e.currentX,e.currentY,r.a),onMove:e=>s(e.currentX,e.currentY,r.b),onEnd:()=>{m(!0),Object(r.e)(),a=void 0}})}},"74mu":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return s});const i=(e,t)=>null!==t.closest(e),o=(e,t)=>"string"==typeof e&&e.length>0?Object.assign({"ion-color":!0,["ion-color-"+e]:!0},t):t,r=e=>{const t={};return(e=>void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter(e=>null!=e).map(e=>e.trim()).filter(e=>""!==e):[])(e).forEach(e=>t[e]=!0),t},a=/^[a-z][a-z0-9+\-.]*:/,s=async(e,t,n,i)=>{if(null!=e&&"#"!==e[0]&&!a.test(e)){const o=document.querySelector("ion-router");if(o)return null!=t&&t.preventDefault(),o.push(e,n,i)}return!1}},"7Mkl":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n("mrSG"),o=n("fXoL"),r=n("TEn/"),a=n("Ol7V"),s=n("ofXK"),l=n("3Pt+");function m(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"ion-row"),o["\u0275\u0275elementStart"](1,"ion-col"),o["\u0275\u0275elementStart"](2,"h3",7),o["\u0275\u0275text"](3,"del giorno"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]())}function c(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"ion-row"),o["\u0275\u0275elementStart"](1,"ion-col"),o["\u0275\u0275elementStart"](2,"ion-card"),o["\u0275\u0275elementStart"](3,"h3",7),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate"](e.dateString[0])}}function d(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"ion-row"),o["\u0275\u0275elementStart"](1,"ion-col"),o["\u0275\u0275elementStart"](2,"h3",7),o["\u0275\u0275text"](3,"dei giorni"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]())}function u(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"ion-col",14),o["\u0275\u0275elementStart"](1,"ion-card"),o["\u0275\u0275elementStart"](2,"h3",15),o["\u0275\u0275text"](3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](e)}}function g(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"ion-row"),o["\u0275\u0275template"](1,u,4,1,"ion-col",13),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",e.dateString)}}let p=(()=>{class e{constructor(e,t,n){this.modalController=e,this.homeService=t,this.toastController=n,this.dateString=[]}ngOnInit(){this.date.sort((e,t)=>new Date(e).getTime()-new Date(t).getTime());for(let e=0;e<this.date.length;e++)this.dateString.push(new Date(this.date[e]).toLocaleString("it-IT",{weekday:"long",month:"long",day:"2-digit"}))}addBooking(){const e=[],t=[];for(let n=0;n<this.date.length;n++)e.push(this.makeGmtDate(this.date[n],this.selectedHour.startTime)),t.push(this.makeGmtDate(this.date[n],this.selectedHour.endTime));this.homeService.addBooking({roomId:this.selectedRoom.roomId,patientName:this.patientName,physioName:this.physioName,startDatesArray:e,endDatesArray:t}).then(()=>{this.presentToast("Appuntamento aggiunto"),this.onModalDismiss()}).catch(()=>{this.presentToast("Errore aggiunta appuntamento")})}makeGmtDate(e,t){console.log(e);const n=new Date(new Date(e).toLocaleDateString("en-US")+" "+t);return n.setTime(n.getTime()+36e5),console.log("gmtDate"),console.log(n),n}onModalDismiss(){this.modalController.dismiss()}presentToast(e){return Object(i.a)(this,void 0,void 0,function*(){(yield this.toastController.create({message:e,duration:2e3})).present()})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](r.ModalController),o["\u0275\u0275directiveInject"](a.a),o["\u0275\u0275directiveInject"](r.ToastController))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-booking"]],inputs:{selectedRoom:"selectedRoom",selectedHour:"selectedHour",date:"date",physioName:"physioName"},decls:47,vars:8,consts:[[2,"height","100%"],[1,"ion-text-center",2,"align-items","center","height","100%"],[2,"height","100%","padding","0%"],[1,"left-col"],[2,"padding","0%"],[2,"padding","0%","text-align","end"],["size","small","fill","clear",2,"margin","0%",3,"click"],[1,"title"],[4,"ngIf"],["name","close-circle-outline"],["position","floating"],[3,"ngModel","ngModelChange"],[3,"click"],["size","5",4,"ngFor","ngForOf"],["size","5"],[1,"title-card"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"ion-content"),o["\u0275\u0275elementStart"](1,"ion-grid",0),o["\u0275\u0275elementStart"](2,"ion-row",1),o["\u0275\u0275elementStart"](3,"ion-col"),o["\u0275\u0275elementStart"](4,"ion-card"),o["\u0275\u0275elementStart"](5,"ion-grid",2),o["\u0275\u0275elementStart"](6,"ion-row"),o["\u0275\u0275elementStart"](7,"ion-col",3),o["\u0275\u0275elementStart"](8,"ion-grid",4),o["\u0275\u0275elementStart"](9,"ion-row"),o["\u0275\u0275elementStart"](10,"ion-col",5),o["\u0275\u0275elementStart"](11,"ion-button",6),o["\u0275\u0275listener"]("click",function(){return t.onModalDismiss()}),o["\u0275\u0275element"](12,"ion-icon"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"ion-row"),o["\u0275\u0275elementStart"](14,"ion-col"),o["\u0275\u0275elementStart"](15,"h3",7),o["\u0275\u0275text"](16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"ion-row"),o["\u0275\u0275elementStart"](18,"ion-col"),o["\u0275\u0275elementStart"](19,"h3",7),o["\u0275\u0275text"](20),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](21,m,4,0,"ion-row",8),o["\u0275\u0275template"](22,c,5,1,"ion-row",8),o["\u0275\u0275template"](23,d,4,0,"ion-row",8),o["\u0275\u0275template"](24,g,2,1,"ion-row",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](25,"ion-col",4),o["\u0275\u0275elementStart"](26,"ion-grid",4),o["\u0275\u0275elementStart"](27,"ion-row"),o["\u0275\u0275elementStart"](28,"ion-col",5),o["\u0275\u0275elementStart"](29,"ion-button",6),o["\u0275\u0275listener"]("click",function(){return t.onModalDismiss()}),o["\u0275\u0275element"](30,"ion-icon",9),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](31,"ion-row"),o["\u0275\u0275elementStart"](32,"ion-col"),o["\u0275\u0275elementStart"](33,"ion-item"),o["\u0275\u0275elementStart"](34,"ion-label",10),o["\u0275\u0275text"](35,"Nome del Fisioterapista"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](36,"ion-input",11),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.physioName=e}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](37,"ion-row"),o["\u0275\u0275elementStart"](38,"ion-col"),o["\u0275\u0275elementStart"](39,"ion-item"),o["\u0275\u0275elementStart"](40,"ion-label",10),o["\u0275\u0275text"](41,"Nome del Paziente"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](42,"ion-input",11),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.patientName=e}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](43,"ion-row"),o["\u0275\u0275elementStart"](44,"ion-col"),o["\u0275\u0275elementStart"](45,"ion-button",12),o["\u0275\u0275listener"]("click",function(){return t.addBooking()}),o["\u0275\u0275text"](46,"Prenota!"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](16),o["\u0275\u0275textInterpolate1"]("Prenotazione ",t.selectedRoom.roomName,""),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate1"]("per le ",t.selectedHour.name,""),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",1===t.dateString.length),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",1===t.dateString.length),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.dateString.length>1),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.dateString.length>1),o["\u0275\u0275advance"](12),o["\u0275\u0275property"]("ngModel",t.physioName),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngModel",t.patientName))},directives:[r.IonContent,r.IonGrid,r.IonRow,r.IonCol,r.IonCard,r.IonButton,r.IonIcon,s.NgIf,r.IonItem,r.IonLabel,r.IonInput,r.TextValueAccessor,l.NgControlStatus,l.NgModel,s.NgForOf],styles:["ion-content[_ngcontent-%COMP%]{--background:transparent}.title[_ngcontent-%COMP%], .title-card[_ngcontent-%COMP%]{font-size:15px;margin:0;color:#000}.title-card[_ngcontent-%COMP%]{padding-left:2%;padding-right:2%}.left-col[_ngcontent-%COMP%]{background:linear-gradient(1turn,#5490d9 27%,#4ea7df 95%);padding:0}"]}),e})()},Ol7V:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("mrSG"),o=n("fXoL"),r=n("tk/3");let a=(()=>{class e{constructor(){this.apiUrl="https://gestionepazienti.herokuapp.com/"}getApiUrl(){return this.apiUrl}getApiRoute(e){return this.apiUrl+e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),s=(()=>{class e{constructor(e,t){this.http=e,this.costantsService=t,this.bookingHours=[{name:"8.00 - 9.00",startTime:"08:00:00",endTime:"09:00:00",isQuarter:!1},{name:"8.00 - 8.45",startTime:"08:00:00",endTime:"08:45:00",isQuarter:!0},{name:"8.15 - 9.00",startTime:"08:15:00",endTime:"09:00:00",isQuarter:!0},{name:"8.30 - 9.15",startTime:"08:30:00",endTime:"09:15:00",isQuarter:!0},{name:"8.30 - 9.30",startTime:"08:30:00",endTime:"09:30:00",isQuarter:!1},{name:"8.45 - 9.30",startTime:"08:45:00",endTime:"09:30:00",isQuarter:!0},{name:"9.00 - 10.00",startTime:"09:00:00",endTime:"10:00:00",isQuarter:!1},{name:"9.00 - 9.45",startTime:"09:00:00",endTime:"09:45:00",isQuarter:!0},{name:"9.15 - 10.00",startTime:"09:15:00",endTime:"10:00:00",isQuarter:!0},{name:"9.30 - 10.15",startTime:"09:30:00",endTime:"10:15:00",isQuarter:!0},{name:"9.30 - 10.30",startTime:"09:30:00",endTime:"10:30:00",isQuarter:!1},{name:"9.45 - 10.30",startTime:"09:45:00",endTime:"10:30:00",isQuarter:!0},{name:"10.00 - 11.00",startTime:"10:00:00",endTime:"11:00:00",isQuarter:!1},{name:"10.00 - 10.45",startTime:"10:00:00",endTime:"10:45:00",isQuarter:!0},{name:"10.15 - 11.00",startTime:"10:15:00",endTime:"11:00:00",isQuarter:!0},{name:"10.30 - 11.15",startTime:"10:30:00",endTime:"11:15:00",isQuarter:!0},{name:"10.30 - 11.30",startTime:"10:30:00",endTime:"11:30:00",isQuarter:!1},{name:"10.45 - 11.30",startTime:"10:45:00",endTime:"11:30:00",isQuarter:!0},{name:"11.00 - 12.00",startTime:"11:00:00",endTime:"12:00:00",isQuarter:!1},{name:"11.00 - 11.45",startTime:"11:00:00",endTime:"11:45:00",isQuarter:!0},{name:"11.15 - 12.00",startTime:"11:15:00",endTime:"12:00:00",isQuarter:!0},{name:"11.30 - 12.15",startTime:"11:30:00",endTime:"12:15:00",isQuarter:!0},{name:"11.30 - 12.30",startTime:"11:30:00",endTime:"12:30:00",isQuarter:!1},{name:"11.45 - 12.30",startTime:"11:45:00",endTime:"12:30:00",isQuarter:!0}],this.rooms=[{roomId:1,roomName:"Posturale"},{roomId:2,roomName:"Lettino Chiuso"},{roomId:3,roomName:"Lettino Aperto"},{roomId:4,roomName:"Palestra"}]}getHourRange(){return this.bookingHours}getRooms(){return this.rooms}getPhysio(){return Object(i.a)(this,void 0,void 0,function*(){return console.log("Carico Fisio"),new Promise((e,t)=>this.http.get(this.costantsService.getApiRoute("getPhysio")).toPromise().then(t=>{const n=t;for(let e=0;e<n.length;e++)n[e].image=n[e].image?"data:image/jpeg;base64,"+n[e].image:"./assets/avatar.svg";console.log(n),e(t)},()=>{t()}))})}addBooking(e){return Object(i.a)(this,void 0,void 0,function*(){return console.log(e),this.http.post(this.costantsService.getApiRoute("addBooking"),e).toPromise()})}getAppointments(){return Object(i.a)(this,void 0,void 0,function*(){return console.log("Carico appuntamenti"),new Promise((e,t)=>this.http.get(this.costantsService.getApiRoute("getAppointments")).toPromise().then(t=>{e(t)},()=>{t()}))})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](r.a),o["\u0275\u0275inject"](a))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},ZaV5:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});const i=async(e,t,n,i,o)=>{if(e)return e.attachViewToDom(t,n,o,i);if("string"!=typeof n&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const r="string"==typeof n?t.ownerDocument&&t.ownerDocument.createElement(n):n;return i&&i.forEach(e=>r.classList.add(e)),o&&Object.assign(r,o),t.appendChild(r),r.componentOnReady&&await r.componentOnReady(),r},o=(e,t)=>{if(t){if(e)return e.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},h3R7:function(e,t,n){"use strict";n.d(t,"a",function(){return i});const i={bubbles:{dur:1e3,circles:9,fn:(e,t,n)=>{const i=e*t/n-e+"ms",o=2*Math.PI*t/n;return{r:5,style:{top:9*Math.sin(o)+"px",left:9*Math.cos(o)+"px","animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:(e,t,n)=>{const i=t/n,o=e*i-e+"ms",r=2*Math.PI*i;return{r:5,style:{top:9*Math.sin(r)+"px",left:9*Math.cos(r)+"px","animation-delay":o}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(e,t)=>({r:6,style:{left:9-9*t+"px","animation-delay":-110*t+"ms"}})},lines:{dur:1e3,lines:12,fn:(e,t,n)=>({y1:17,y2:29,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/n-e+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(e,t,n)=>({y1:12,y2:20,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/n-e+"ms"}})}}},qULd:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return s});const i={getEngine(){const e=window;return e.TapticEngine||e.Capacitor&&e.Capacitor.isPluginAvailable("Haptics")&&e.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(e){const t=this.getEngine();if(!t)return;const n=this.isCapacitor()?e.style.toUpperCase():e.style;t.impact({style:n})},notification(e){const t=this.getEngine();if(!t)return;const n=this.isCapacitor()?e.style.toUpperCase():e.style;t.notification({style:n})},selection(){this.impact({style:"light"})},selectionStart(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},o=()=>{i.selection()},r=()=>{i.selectionStart()},a=()=>{i.selectionChanged()},s=()=>{i.selectionEnd()},l=e=>{i.impact(e)}}}]);