(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"ct+p":function(e,t,n){"use strict";n.r(t),n.d(t,"HomePageModule",function(){return I});var o=n("fXoL"),i=n("ofXK"),r=n("TEn/"),a=n("3Pt+"),l=n("zTSL"),c=n("tyNb"),s=n("mrSG"),m=n("wd/R"),p=n("t2g/"),d=n("sWYD"),g=n("YBtx"),h=n("Ol7V");let u=(()=>{class e{transform(e,t){const n=[];for(let o=0;o<e.length;o++)e[o].physioName===t.name&&n.push(e[o]);return n}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o["\u0275\u0275definePipe"]({name:"physioFilter",type:e,pure:!0}),e})();function f(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"ion-select-option",12),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("value",e),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"]("",e.name," ")}}function y(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"ion-chip",7),o["\u0275\u0275elementStart"](1,"ion-avatar",8),o["\u0275\u0275element"](2,"img",9),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"ion-select",10),o["\u0275\u0275listener"]("ngModelChange",function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().selectedPhysio=t}),o["\u0275\u0275template"](4,f,2,2,"ion-select-option",11),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("src",e.selectedPhysio.image,o["\u0275\u0275sanitizeUrl"]),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngModel",e.selectedPhysio)("value",e.selectedPhysio)("interfaceOptions",e.customPopoverOptions),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",e.physio)}}function v(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"ion-row",19),o["\u0275\u0275elementStart"](1,"ion-col",20),o["\u0275\u0275elementStart"](2,"ion-label"),o["\u0275\u0275text"](3),o["\u0275\u0275element"](4,"br"),o["\u0275\u0275text"](5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"ion-col",20),o["\u0275\u0275elementStart"](7,"ion-label"),o["\u0275\u0275text"](8),o["\u0275\u0275element"](9,"br"),o["\u0275\u0275text"](10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"ion-col",20),o["\u0275\u0275elementStart"](12,"ion-label"),o["\u0275\u0275text"](13),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"ion-col",21),o["\u0275\u0275elementStart"](15,"ion-label"),o["\u0275\u0275text"](16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"ion-col",22),o["\u0275\u0275elementStart"](18,"ion-button",23),o["\u0275\u0275listener"]("click",function(){o["\u0275\u0275restoreView"](e);const n=t.$implicit;return o["\u0275\u0275nextContext"](2).removeAppointment(n.appointmentId)}),o["\u0275\u0275element"](19,"ion-icon",24),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](20,"hr",25),o["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"]("",n.getDayRightFormat(e.day,e.startTime,"weekDay")," "),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",n.getDayRightFormat(e.day,e.startTime)," "),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"]("",n.getHourRightFormat(e.day,e.startTime)," "),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",n.getHourRightFormat(e.day,e.endTime)," "),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](n.getRoomFromId(e.roomId)),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](e.patientName)}}function x(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"ion-card",13),o["\u0275\u0275elementStart"](1,"ion-grid",0),o["\u0275\u0275elementStart"](2,"ion-row",14),o["\u0275\u0275elementStart"](3,"ion-col",15),o["\u0275\u0275text"](4," Data "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"ion-col",15),o["\u0275\u0275text"](6," Ora "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"ion-col",15),o["\u0275\u0275text"](8," Lettino "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"ion-col",16),o["\u0275\u0275text"](10," Nome del paziente "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](11,"ion-col",17),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](12,v,21,6,"ion-row",18),o["\u0275\u0275pipe"](13,"physioFilter"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](12),o["\u0275\u0275property"]("ngForOf",o["\u0275\u0275pipeBind2"](13,1,e.appointments,e.selectedPhysio))}}const C=[{path:"",component:(()=>{class e{constructor(e,t,n){this.homeService=e,this.modalController=t,this.toastController=n,this.customPopoverOptions={cssClass:"custom-popover"},m.locale("it-IT")}presentAddBookingModal(){return Object(s.a)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:p.a,cssClass:"modal-style",componentProps:{appointments:this.appointments,physio:this.physio,selectedPhysio:this.selectedPhysio,rooms:this.rooms}});return e.onDidDismiss().then(()=>{console.log("Modale dismessa"),this.getAppointments()}),yield e.present()})}presentToast(e){return Object(s.a)(this,void 0,void 0,function*(){(yield this.toastController.create({message:e,duration:2e3})).present()})}ngOnInit(){this.getPhysio(),this.getAppointments(),this.rooms=this.homeService.getRooms()}getAppointments(){this.homeService.getAppointments().then(e=>{this.appointments=e,this.appointments.sort((e,t)=>new Date(e.day).getTime()-new Date(t.day).getTime()),console.log(this.appointments)})}getPhysio(){this.homeService.getPhysio().then(e=>{this.physio=e,this.physio.sort((e,t)=>e.id-t.id),this.selectedPhysio=this.physio[0]})}removeAppointment(e){this.homeService.removeAppointment(e).then(()=>{this.getAppointments(),this.presentToast("Appuntamento cancellato")}).catch(()=>{this.presentToast("Errore nella cancellazione dell'appuntamento")})}getRoomFromId(e){for(let t=0;t<this.rooms.length;t++)if(e===this.rooms[t].roomId)return this.rooms[t].roomName}getDayRightFormat(e,t,n){return"weekDay"===n?Object(d.a)(new Date(e+" "+t),"EEEE",{locale:g.a}):Object(d.a)(new Date(e+" "+t),"d MMMM",{locale:g.a})}getHourRightFormat(e,t){return Object(d.a)(new Date(e+" "+t),"k:mm")}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](r.ModalController),o["\u0275\u0275directiveInject"](r.ToastController))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-home"]],decls:12,vars:2,consts:[[2,"padding","0%"],[1,"ion-text-center",2,"padding","0%"],["class","chip-custom",4,"ngIf"],["class","card",4,"ngIf"],[1,"ion-text-center"],[3,"click"],[1,"label-button"],[1,"chip-custom"],[1,"avatar-chip"],[3,"src"],["interface","popover",1,"chip-select",3,"ngModel","value","interfaceOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"card"],[2,"background-color","#f6f5f5","padding-bottom","1%","margin-bottom","1%"],["size","3",2,"padding-top","1.5%"],["size","2",2,"padding-top","1.5%"],["size","1",2,"padding-top","1.5%"],["style","align-items: center;",4,"ngFor","ngForOf"],[2,"align-items","center"],["size","3"],["size","2"],["size","1"],["fill","clear","color","danger",3,"click"],["name","trash-outline"],[1,"hr"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"ion-content"),o["\u0275\u0275elementStart"](1,"ion-grid",0),o["\u0275\u0275elementStart"](2,"ion-row"),o["\u0275\u0275elementStart"](3,"ion-col",1),o["\u0275\u0275template"](4,y,5,5,"ion-chip",2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](5,x,14,4,"ion-card",3),o["\u0275\u0275elementStart"](6,"ion-grid"),o["\u0275\u0275elementStart"](7,"ion-row"),o["\u0275\u0275elementStart"](8,"ion-col",4),o["\u0275\u0275elementStart"](9,"ion-chip",5),o["\u0275\u0275listener"]("click",function(){return t.presentAddBookingModal()}),o["\u0275\u0275elementStart"](10,"ion-label",6),o["\u0275\u0275text"](11,"Nuovo Appuntamento"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngIf",t.physio),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.appointments&&t.selectedPhysio))},directives:[r.IonContent,r.IonGrid,r.IonRow,r.IonCol,i.NgIf,r.IonChip,r.IonLabel,r.IonAvatar,r.IonSelect,r.SelectValueAccessor,a.NgControlStatus,a.NgModel,i.NgForOf,r.IonSelectOption,r.IonCard,r.IonButton,r.IonIcon],pipes:[u],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}ion-content[_ngcontent-%COMP%]{--background:linear-gradient(360deg,#5490d9 27%,#4ea7df 95%)}ion-toggle[_ngcontent-%COMP%]{--background-checked:#8cb5e6;--handle-background-checked:#70a3df}ion-col[_ngcontent-%COMP%]{text-align:center;height:100%;display:block;vertical-align:middle}.hr[_ngcontent-%COMP%]{border-top:3px solid #f6f5f5;width:100%}.card[_ngcontent-%COMP%]{margin-left:5%;margin-right:5%;border-radius:10px}.label-button[_ngcontent-%COMP%]{font-weight:100;font-size:20px}.chip-custom[_ngcontent-%COMP%]{height:60px;width:200px;margin-top:18px}.avatar-chip[_ngcontent-%COMP%]{width:50px;height:50px}.chip-select[_ngcontent-%COMP%]{font-size:20px}"]}),e})()}];let S=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[c.i.forChild(C)],c.i]}),e})(),I=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[{provide:o.LOCALE_ID,useValue:"it-IT"}],imports:[[i.CommonModule,a.FormsModule,r.IonicModule,S,l.CalendarModule]]}),e})()}}]);